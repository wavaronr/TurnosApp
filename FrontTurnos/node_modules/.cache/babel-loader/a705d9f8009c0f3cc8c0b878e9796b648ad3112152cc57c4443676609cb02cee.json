{"ast":null,"code":"var _jsxFileName = \"/home/user/calendario/src/components/ProgrammingCalendar.js\",\n  _s = $RefreshSig$();\nimport React from 'react';\nimport { useCalendar } from '../context/CalendarContext.js';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction ProgrammingCalendar({\n  date\n}) {\n  _s();\n  const {\n    people,\n    holidays,\n    assignedDays\n  } = useCalendar();\n  const year = date.getFullYear();\n  const month = date.getMonth();\n  const firstDayOfMonth = new Date(year, month, 1).getDay();\n  const daysInMonth = new Date(year, month + 1, 0).getDate();\n  const isHoliday = day => {\n    // Si holidays no está cargado, no es festivo\n    if (!holidays) return '';\n    const holiday = holidays.find(h => h.day === day && h.month - 1 === month);\n    return holiday ? 'holiday' : '';\n  };\n  const getPeopleForDay = day => {\n    // Si no hay datos de programación o personas, devuelve un array vacío\n    if (!assignedDays || !people) {\n      return [];\n    }\n    const key = `${year}-${month + 1}-${day}`;\n    const dayAssignments = assignedDays[key] || {};\n    return Object.keys(dayAssignments).map(personId => {\n      const person = people.find(p => p.id.toString() === personId);\n      return person ? person.name : null;\n    }).filter(name => name !== null);\n  };\n  const allCells = [...Array(firstDayOfMonth).fill(null), ...Array.from({\n    length: daysInMonth\n  }, (_, i) => i + 1)];\n\n  // Asegurarse de que el calendario siempre tenga un número de filas múltiplo de 7\n  while (allCells.length % 7 !== 0) {\n    allCells.push(null);\n  }\n  const weeks = [];\n  let weekCount = Math.ceil((firstDayOfMonth + daysInMonth) / 7);\n  if (firstDayOfMonth === 0 && daysInMonth > 28) weekCount = Math.ceil(daysInMonth / 7);else if (firstDayOfMonth > 4 && daysInMonth > 30) weekCount = 6;\n  for (let i = 0; i < allCells.length; i += 7) {\n    weeks.push(allCells.slice(i, i + 7));\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"calendar-pro-wrapper\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"calendar-pro\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"header-pro week-num-header\",\n        children: \"Sem\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 9\n      }, this), weeks.map((week, index) => {\n        const dateForWeek = new Date(year, month, week.find(d => d) || 1);\n        const firstDayOfYear = new Date(dateForWeek.getFullYear(), 0, 1);\n        const pastDaysOfYear = (dateForWeek - firstDayOfYear) / 86400000;\n        const weekNumber = Math.ceil((pastDaysOfYear + firstDayOfYear.getDay() + 1) / 7);\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"week-num-cell\",\n          children: weekNumber\n        }, `week-${index}`, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 19\n        }, this);\n      }), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"header-pro\",\n        children: \"Dom\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"header-pro\",\n        children: \"Lun\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"header-pro\",\n        children: \"Mar\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"header-pro\",\n        children: \"Mie\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"header-pro\",\n        children: \"Jue\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"header-pro\",\n        children: \"Vie\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"header-pro\",\n        children: \"Sab\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }, this), allCells.map((day, index) => {\n        if (!day) {\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"day-cell-pro empty\"\n          }, `empty-${index}`, false, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 20\n          }, this);\n        }\n        const peopleOnDay = getPeopleForDay(day);\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `day-cell-pro ${isHoliday(day)}`,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"day-number-pro\",\n            children: day\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"people-list-pro\",\n            children: peopleOnDay.map((name, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n              children: name\n            }, i, false, {\n              fileName: _jsxFileName,\n              lineNumber: 82,\n              columnNumber: 47\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 15\n          }, this)]\n        }, day, true, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 13\n        }, this);\n      })]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 54,\n    columnNumber: 5\n  }, this);\n}\n_s(ProgrammingCalendar, \"ahkQP5W5CfFzxIYONJduQ1CFkk4=\", false, function () {\n  return [useCalendar];\n});\n_c = ProgrammingCalendar;\nexport default ProgrammingCalendar;\nvar _c;\n$RefreshReg$(_c, \"ProgrammingCalendar\");","map":{"version":3,"names":["React","useCalendar","jsxDEV","_jsxDEV","ProgrammingCalendar","date","_s","people","holidays","assignedDays","year","getFullYear","month","getMonth","firstDayOfMonth","Date","getDay","daysInMonth","getDate","isHoliday","day","holiday","find","h","getPeopleForDay","key","dayAssignments","Object","keys","map","personId","person","p","id","toString","name","filter","allCells","Array","fill","from","length","_","i","push","weeks","weekCount","Math","ceil","slice","className","children","fileName","_jsxFileName","lineNumber","columnNumber","week","index","dateForWeek","d","firstDayOfYear","pastDaysOfYear","weekNumber","peopleOnDay","_c","$RefreshReg$"],"sources":["/home/user/calendario/src/components/ProgrammingCalendar.js"],"sourcesContent":["import React from 'react';\nimport { useCalendar } from '../context/CalendarContext.js';\n\nfunction ProgrammingCalendar({ date }) {\n  const { people, holidays, assignedDays } = useCalendar();\n\n  const year = date.getFullYear();\n  const month = date.getMonth();\n\n  const firstDayOfMonth = new Date(year, month, 1).getDay();\n  const daysInMonth = new Date(year, month + 1, 0).getDate();\n\n  const isHoliday = (day) => {\n    // Si holidays no está cargado, no es festivo\n    if (!holidays) return '';\n    const holiday = holidays.find(h => h.day === day && h.month - 1 === month);\n    return holiday ? 'holiday' : '';\n  };\n\n  const getPeopleForDay = (day) => {\n    // Si no hay datos de programación o personas, devuelve un array vacío\n    if (!assignedDays || !people) {\n      return [];\n    }\n    const key = `${year}-${month + 1}-${day}`;\n    const dayAssignments = assignedDays[key] || {};\n    return Object.keys(dayAssignments).map(personId => {\n      const person = people.find(p => p.id.toString() === personId);\n      return person ? person.name : null;\n    }).filter(name => name !== null);\n  };\n\n  const allCells = [\n    ...Array(firstDayOfMonth).fill(null),\n    ...Array.from({ length: daysInMonth }, (_, i) => i + 1)\n  ];\n\n  // Asegurarse de que el calendario siempre tenga un número de filas múltiplo de 7\n  while (allCells.length % 7 !== 0) {\n    allCells.push(null);\n  }\n\n  const weeks = [];\n  let weekCount = Math.ceil((firstDayOfMonth + daysInMonth) / 7);\n  if (firstDayOfMonth === 0 && daysInMonth > 28) weekCount = Math.ceil(daysInMonth/7);\n  else if (firstDayOfMonth > 4 && daysInMonth > 30) weekCount=6;\n  \n\n  for (let i = 0; i < allCells.length; i += 7) {\n    weeks.push(allCells.slice(i, i + 7));\n  }\n\n  return (\n    <div className=\"calendar-pro-wrapper\">\n      <div className=\"calendar-pro\">\n        <div className=\"header-pro week-num-header\">Sem</div>\n        {weeks.map((week, index) => {\n           const dateForWeek = new Date(year, month, week.find(d => d) || 1);\n           const firstDayOfYear = new Date(dateForWeek.getFullYear(), 0, 1);\n           const pastDaysOfYear = (dateForWeek - firstDayOfYear) / 86400000;\n           const weekNumber = Math.ceil((pastDaysOfYear + firstDayOfYear.getDay() + 1) / 7);\n           return <div className=\"week-num-cell\" key={`week-${index}`}>{weekNumber}</div>;\n        })}\n\n        <div className=\"header-pro\">Dom</div>\n        <div className=\"header-pro\">Lun</div>\n        <div className=\"header-pro\">Mar</div>\n        <div className=\"header-pro\">Mie</div>\n        <div className=\"header-pro\">Jue</div>\n        <div className=\"header-pro\">Vie</div>\n        <div className=\"header-pro\">Sab</div>\n\n        {allCells.map((day, index) => {\n          if (!day) {\n            return <div className=\"day-cell-pro empty\" key={`empty-${index}`}></div>;\n          }\n          const peopleOnDay = getPeopleForDay(day);\n          return (\n            <div className={`day-cell-pro ${isHoliday(day)}`} key={day}>\n              <div className=\"day-number-pro\">{day}</div>\n              <div className=\"people-list-pro\">\n                {peopleOnDay.map((name, i) => <div key={i}>{name}</div>)}\n              </div>\n            </div>\n          );\n        })}\n      </div>\n    </div>\n  );\n}\n\nexport default ProgrammingCalendar;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}